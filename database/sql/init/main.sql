-- Adminer 4.8.1 MySQL 8.0.30 dump

SET NAMES utf8;
SET time_zone = '+00:00';
SET foreign_key_checks = 0;
SET sql_mode = 'NO_AUTO_VALUE_ON_ZERO';

DROP TABLE IF EXISTS `BATCH_JOB_EXECUTION`;
CREATE TABLE `BATCH_JOB_EXECUTION` (
  `JOB_EXECUTION_ID` bigint NOT NULL,
  `VERSION` bigint DEFAULT NULL,
  `JOB_INSTANCE_ID` bigint NOT NULL,
  `CREATE_TIME` datetime(6) NOT NULL,
  `START_TIME` datetime(6) DEFAULT NULL,
  `END_TIME` datetime(6) DEFAULT NULL,
  `STATUS` varchar(10) DEFAULT NULL,
  `EXIT_CODE` varchar(2500) DEFAULT NULL,
  `EXIT_MESSAGE` varchar(2500) DEFAULT NULL,
  `LAST_UPDATED` datetime(6) DEFAULT NULL,
  `JOB_CONFIGURATION_LOCATION` varchar(2500) DEFAULT NULL,
  PRIMARY KEY (`JOB_EXECUTION_ID`),
  KEY `JOB_INST_EXEC_FK` (`JOB_INSTANCE_ID`),
  CONSTRAINT `JOB_INST_EXEC_FK` FOREIGN KEY (`JOB_INSTANCE_ID`) REFERENCES `BATCH_JOB_INSTANCE` (`JOB_INSTANCE_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


DROP TABLE IF EXISTS `BATCH_JOB_EXECUTION_CONTEXT`;
CREATE TABLE `BATCH_JOB_EXECUTION_CONTEXT` (
  `JOB_EXECUTION_ID` bigint NOT NULL,
  `SHORT_CONTEXT` varchar(2500) NOT NULL,
  `SERIALIZED_CONTEXT` text,
  PRIMARY KEY (`JOB_EXECUTION_ID`),
  CONSTRAINT `JOB_EXEC_CTX_FK` FOREIGN KEY (`JOB_EXECUTION_ID`) REFERENCES `BATCH_JOB_EXECUTION` (`JOB_EXECUTION_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


DROP TABLE IF EXISTS `BATCH_JOB_EXECUTION_PARAMS`;
CREATE TABLE `BATCH_JOB_EXECUTION_PARAMS` (
  `JOB_EXECUTION_ID` bigint NOT NULL,
  `TYPE_CD` varchar(6) NOT NULL,
  `KEY_NAME` varchar(100) NOT NULL,
  `STRING_VAL` varchar(250) DEFAULT NULL,
  `DATE_VAL` datetime(6) DEFAULT NULL,
  `LONG_VAL` bigint DEFAULT NULL,
  `DOUBLE_VAL` double DEFAULT NULL,
  `IDENTIFYING` char(1) NOT NULL,
  KEY `JOB_EXEC_PARAMS_FK` (`JOB_EXECUTION_ID`),
  CONSTRAINT `JOB_EXEC_PARAMS_FK` FOREIGN KEY (`JOB_EXECUTION_ID`) REFERENCES `BATCH_JOB_EXECUTION` (`JOB_EXECUTION_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


DROP TABLE IF EXISTS `BATCH_JOB_EXECUTION_SEQ`;
CREATE TABLE `BATCH_JOB_EXECUTION_SEQ` (
  `ID` bigint NOT NULL,
  `UNIQUE_KEY` char(1) NOT NULL,
  UNIQUE KEY `UNIQUE_KEY_UN` (`UNIQUE_KEY`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

INSERT INTO `BATCH_JOB_EXECUTION_SEQ` (`ID`, `UNIQUE_KEY`) VALUES
(0,	'0');

DROP TABLE IF EXISTS `BATCH_JOB_INSTANCE`;
CREATE TABLE `BATCH_JOB_INSTANCE` (
  `JOB_INSTANCE_ID` bigint NOT NULL,
  `VERSION` bigint DEFAULT NULL,
  `JOB_NAME` varchar(100) NOT NULL,
  `JOB_KEY` varchar(32) NOT NULL,
  PRIMARY KEY (`JOB_INSTANCE_ID`),
  UNIQUE KEY `JOB_INST_UN` (`JOB_NAME`,`JOB_KEY`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


DROP TABLE IF EXISTS `BATCH_JOB_SEQ`;
CREATE TABLE `BATCH_JOB_SEQ` (
  `ID` bigint NOT NULL,
  `UNIQUE_KEY` char(1) NOT NULL,
  UNIQUE KEY `UNIQUE_KEY_UN` (`UNIQUE_KEY`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

INSERT INTO `BATCH_JOB_SEQ` (`ID`, `UNIQUE_KEY`) VALUES
(0,	'0');

DROP TABLE IF EXISTS `BATCH_STEP_EXECUTION`;
CREATE TABLE `BATCH_STEP_EXECUTION` (
  `STEP_EXECUTION_ID` bigint NOT NULL,
  `VERSION` bigint NOT NULL,
  `STEP_NAME` varchar(100) NOT NULL,
  `JOB_EXECUTION_ID` bigint NOT NULL,
  `START_TIME` datetime(6) NOT NULL,
  `END_TIME` datetime(6) DEFAULT NULL,
  `STATUS` varchar(10) DEFAULT NULL,
  `COMMIT_COUNT` bigint DEFAULT NULL,
  `READ_COUNT` bigint DEFAULT NULL,
  `FILTER_COUNT` bigint DEFAULT NULL,
  `WRITE_COUNT` bigint DEFAULT NULL,
  `READ_SKIP_COUNT` bigint DEFAULT NULL,
  `WRITE_SKIP_COUNT` bigint DEFAULT NULL,
  `PROCESS_SKIP_COUNT` bigint DEFAULT NULL,
  `ROLLBACK_COUNT` bigint DEFAULT NULL,
  `EXIT_CODE` varchar(2500) DEFAULT NULL,
  `EXIT_MESSAGE` varchar(2500) DEFAULT NULL,
  `LAST_UPDATED` datetime(6) DEFAULT NULL,
  PRIMARY KEY (`STEP_EXECUTION_ID`),
  KEY `JOB_EXEC_STEP_FK` (`JOB_EXECUTION_ID`),
  CONSTRAINT `JOB_EXEC_STEP_FK` FOREIGN KEY (`JOB_EXECUTION_ID`) REFERENCES `BATCH_JOB_EXECUTION` (`JOB_EXECUTION_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


DROP TABLE IF EXISTS `BATCH_STEP_EXECUTION_CONTEXT`;
CREATE TABLE `BATCH_STEP_EXECUTION_CONTEXT` (
  `STEP_EXECUTION_ID` bigint NOT NULL,
  `SHORT_CONTEXT` varchar(2500) NOT NULL,
  `SERIALIZED_CONTEXT` text,
  PRIMARY KEY (`STEP_EXECUTION_ID`),
  CONSTRAINT `STEP_EXEC_CTX_FK` FOREIGN KEY (`STEP_EXECUTION_ID`) REFERENCES `BATCH_STEP_EXECUTION` (`STEP_EXECUTION_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


DROP TABLE IF EXISTS `BATCH_STEP_EXECUTION_SEQ`;
CREATE TABLE `BATCH_STEP_EXECUTION_SEQ` (
  `ID` bigint NOT NULL,
  `UNIQUE_KEY` char(1) NOT NULL,
  UNIQUE KEY `UNIQUE_KEY_UN` (`UNIQUE_KEY`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

INSERT INTO `BATCH_STEP_EXECUTION_SEQ` (`ID`, `UNIQUE_KEY`) VALUES
(0,	'0');

DROP TABLE IF EXISTS `book`;
CREATE TABLE `book` (
  `ID` bigint NOT NULL AUTO_INCREMENT,
  `NAME` varchar(512) NOT NULL,
  `PATH` varchar(512) NOT NULL,
  `OWNER` bigint NOT NULL,
  `SHA1` varchar(64) NOT NULL,
  `CREATED_DATE` timestamp NULL DEFAULT NULL,
  `UPDATED_DATE` timestamp NULL DEFAULT NULL,
  `has_html` bit(1) DEFAULT NULL,
  `has_word_seg` bit(1) DEFAULT NULL,
  `page_count` int DEFAULT NULL,
  `status` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`ID`),
  KEY `OWNER` (`OWNER`),
  CONSTRAINT `book_ibfk_1` FOREIGN KEY (`OWNER`) REFERENCES `person` (`ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

INSERT INTO `book` (`ID`, `NAME`, `PATH`, `OWNER`, `SHA1`, `CREATED_DATE`, `UPDATED_DATE`, `has_html`, `has_word_seg`, `page_count`, `status`) VALUES
(2,	'神笔马良.pdf',	'/home/jjin/doc_root/6a/2d/06e2a8507f82233e354fe33b99d348bd47f0',	2,	'6a2d06e2a8507f82233e354fe33b99d348bd47f0',	'2023-01-08 12:18:59',	'2023-01-08 12:18:59',	CONV('0', 2, 10) + 0,	CONV('0', 2, 10) + 0,	NULL,	'ACTIVE');

DROP TABLE IF EXISTS `book_person`;
CREATE TABLE `book_person` (
  `rating` int DEFAULT NULL,
  `book_mark` varchar(64) DEFAULT NULL,
  `created_date` datetime DEFAULT NULL,
  `updated_date` datetime DEFAULT NULL,
  `book_id` bigint NOT NULL,
  `person_id` bigint NOT NULL,
  PRIMARY KEY (`book_id`,`person_id`),
  KEY `FK_BOOK_PERSON_ON_PERSON` (`person_id`),
  CONSTRAINT `FK_BOOK_PERSON_ON_BOOK` FOREIGN KEY (`book_id`) REFERENCES `book` (`ID`),
  CONSTRAINT `FK_BOOK_PERSON_ON_PERSON` FOREIGN KEY (`person_id`) REFERENCES `person` (`ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


DROP TABLE IF EXISTS `hibernate_sequence`;
CREATE TABLE `hibernate_sequence` (
  `next_val` bigint DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

INSERT INTO `hibernate_sequence` (`next_val`) VALUES
(3);

DROP TABLE IF EXISTS `person`;
CREATE TABLE `person` (
  `ID` bigint NOT NULL AUTO_INCREMENT,
  `USER_ID` varchar(256) NOT NULL,
  `USER_ID_TYPE` int DEFAULT NULL,
  `PRIMARY_ACCOUNT` bigint DEFAULT NULL,
  `PWD` varchar(512) DEFAULT NULL,
  `DEFAULT` tinyint DEFAULT NULL,
  `CREATED_DATE` timestamp NOT NULL,
  `UPDATED_DATE` timestamp NOT NULL,
  PRIMARY KEY (`ID`),
  KEY `PRIMARY_ACCOUNT` (`PRIMARY_ACCOUNT`),
  KEY `FKdnh6p0kbu3hmnhhbrb5x26wri` (`USER_ID_TYPE`),
  CONSTRAINT `FKdnh6p0kbu3hmnhhbrb5x26wri` FOREIGN KEY (`USER_ID_TYPE`) REFERENCES `user_id_type` (`ID`),
  CONSTRAINT `person_ibfk_1` FOREIGN KEY (`PRIMARY_ACCOUNT`) REFERENCES `person` (`ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

INSERT INTO `person` (`ID`, `USER_ID`, `USER_ID_TYPE`, `PRIMARY_ACCOUNT`, `PWD`, `DEFAULT`, `CREATED_DATE`, `UPDATED_DATE`) VALUES
(1,	'2750bc42-702e-4cbe-bae5-798f171389e1',	2,	NULL,	NULL,	NULL,	'2023-01-08 11:57:10',	'2023-01-08 11:57:10'),
(2,	'postman-test-001',	2,	NULL,	NULL,	NULL,	'2023-01-08 12:12:22',	'2023-01-08 12:12:22');

DROP TABLE IF EXISTS `reading_list`;
CREATE TABLE `reading_list` (
  `ID` bigint NOT NULL AUTO_INCREMENT,
  `BOOK_ID` bigint NOT NULL,
  `BOOKMARK` varchar(64) NOT NULL,
  `PERSON_ID` bigint NOT NULL,
  `CREATED_DATE` timestamp NULL DEFAULT NULL,
  `UPDATED_DATE` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


DROP TABLE IF EXISTS `user_id_type`;
CREATE TABLE `user_id_type` (
  `ID` int NOT NULL AUTO_INCREMENT,
  `NAME` varchar(64) NOT NULL,
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

INSERT INTO `user_id_type` (`ID`, `NAME`) VALUES
(1,	'User Name'),
(2,	'Device ID');

DROP TABLE IF EXISTS `word_dictionary`;
CREATE TABLE `word_dictionary` (
  `id` int NOT NULL,
  `content` varchar(255) DEFAULT NULL,
  `pin_yin` varchar(255) DEFAULT NULL,
  `remark` varchar(255) DEFAULT NULL,
  `word` varchar(255) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


-- 2023-01-08 11:14:53